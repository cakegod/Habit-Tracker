---
import { HabitCard } from "@components/app/HabitsGrid";
import { habitsData, HabitsNames } from "@data/habits";
import Layout from "@layouts/Layout.astro";

function getData(habitName: HabitsNames) {
  const habit = habitsData.find((habit) => habit.name === habitName)!;
  return {
    ...habit,
    inputs: habit.inputs.map((input) =>
      input.name === "time" || input.name === "liquid"
        ? { ...input, value: String(Math.random() * 1000) }
        : input
    ),
  };
}

const medidate = getData("Meditate");
const code = getData("Code");
const water = getData("Drink Water");
---

<Layout title="Habito">
  <main
    class="w-full max-w-4xl grow gap-4 pt-4 md:grid md:grid-cols-3 md:pt-20"
  >
    <div class="col-span-2 max-w-lg pb-10 md:p-0">
      <h2 class="text-4xl font-bold sm:text-5xl">
        The time has come to stop procrastination
      </h2>
      <p class="pt-8">
        Unleash your <strong>inner powerhouse</strong> and discover the habits that
        will help you conquer 2023 with this snazzy,
        <strong>free calculator!</strong>
      </p>
      <p class="pt-2">
        Track your progress and watch in awe as you
        <strong>crush your goals</strong>
        and soar to new heights of success. Let's make this year one for the history
        books, folks!
      </p>
      <a class="btn-secondary btn mt-10 w-full md:w-auto" href="/app">
        Build my habits list
      </a>
    </div>
    <div class="mx-full pointer-events-none flex w-full flex-col gap-4">
      <HabitCard habit={medidate} year={1} index={0} />
      <HabitCard habit={code} year={1} index={1} />
      <HabitCard habit={water} year={1} index={2} />
    </div>
  </main>
</Layout>
